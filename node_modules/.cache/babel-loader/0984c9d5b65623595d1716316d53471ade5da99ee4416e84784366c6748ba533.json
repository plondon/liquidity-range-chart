{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport * as d3 from 'd3';\nconst PriceRange = ({\n  svgRef,\n  yScale,\n  width,\n  minPrice,\n  maxPrice,\n  marginLeft = 80,\n  marginTop = 20\n}) => {\n  _s();\n  useEffect(() => {\n    if (!svgRef.current || !yScale || minPrice === null || maxPrice === null) {\n      // Remove existing range elements if no valid range\n      d3.select(svgRef.current).select('.price-range-group').remove();\n      return;\n    }\n    const svg = d3.select(svgRef.current);\n\n    // Remove existing range elements\n    svg.select('.price-range-group').remove();\n\n    // Create group for price range elements\n    const g = svg.append('g').attr('class', 'price-range-group').attr('transform', `translate(${marginLeft}, ${marginTop})`);\n\n    // Draw transparent pink background between min and max\n    g.append('rect').attr('class', 'price-range-background').attr('x', 0).attr('y', yScale(maxPrice)).attr('width', width).attr('height', yScale(minPrice) - yScale(maxPrice)).attr('fill', '#ff69b4').attr('fill-opacity', 0.15);\n\n    // Draw min price line (solid)\n    g.append('line').attr('class', 'price-range-line-min').attr('x1', 0).attr('x2', width).attr('y1', yScale(minPrice)).attr('y2', yScale(minPrice)).attr('stroke', '#ff6b6b').attr('stroke-width', 2).attr('opacity', 0.9);\n\n    // Draw max price line (solid)\n    g.append('line').attr('class', 'price-range-line-max').attr('x1', 0).attr('x2', width).attr('y1', yScale(maxPrice)).attr('y2', yScale(maxPrice)).attr('stroke', '#4ecdc4').attr('stroke-width', 2).attr('opacity', 0.9);\n\n    // Add min price label\n    g.append('text').attr('class', 'price-range-label-min').attr('x', 5).attr('y', yScale(minPrice) - 5).attr('font-size', '10px').attr('fill', '#ff6b6b').attr('font-weight', 'bold').text(`Min: ${minPrice.toFixed(0)}`);\n\n    // Add max price label\n    g.append('text').attr('class', 'price-range-label-max').attr('x', 5).attr('y', yScale(maxPrice) + 15).attr('font-size', '10px').attr('fill', '#4ecdc4').attr('font-weight', 'bold').text(`Max: ${maxPrice.toFixed(0)}`);\n  }, [svgRef, yScale, width, minPrice, maxPrice, marginLeft, marginTop]);\n  return null; // This component doesn't render anything directly\n};\n_s(PriceRange, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = PriceRange;\nexport default PriceRange;\nvar _c;\n$RefreshReg$(_c, \"PriceRange\");","map":{"version":3,"names":["React","useEffect","d3","PriceRange","svgRef","yScale","width","minPrice","maxPrice","marginLeft","marginTop","_s","current","select","remove","svg","g","append","attr","text","toFixed","_c","$RefreshReg$"],"sources":["/Users/phil.london/Projects/tradingview-chart-mvp/src/PriceRange.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport * as d3 from 'd3';\n\nconst PriceRange = ({ \n  svgRef, \n  yScale, \n  width, \n  minPrice, \n  maxPrice,\n  marginLeft = 80,\n  marginTop = 20 \n}) => {\n  useEffect(() => {\n    if (!svgRef.current || !yScale || minPrice === null || maxPrice === null) {\n      // Remove existing range elements if no valid range\n      d3.select(svgRef.current)\n        .select('.price-range-group')\n        .remove();\n      return;\n    }\n\n    const svg = d3.select(svgRef.current);\n    \n    // Remove existing range elements\n    svg.select('.price-range-group').remove();\n    \n    // Create group for price range elements\n    const g = svg.append('g')\n      .attr('class', 'price-range-group')\n      .attr('transform', `translate(${marginLeft}, ${marginTop})`);\n\n    // Draw transparent pink background between min and max\n    g.append('rect')\n      .attr('class', 'price-range-background')\n      .attr('x', 0)\n      .attr('y', yScale(maxPrice))\n      .attr('width', width)\n      .attr('height', yScale(minPrice) - yScale(maxPrice))\n      .attr('fill', '#ff69b4')\n      .attr('fill-opacity', 0.15);\n\n    // Draw min price line (solid)\n    g.append('line')\n      .attr('class', 'price-range-line-min')\n      .attr('x1', 0)\n      .attr('x2', width)\n      .attr('y1', yScale(minPrice))\n      .attr('y2', yScale(minPrice))\n      .attr('stroke', '#ff6b6b')\n      .attr('stroke-width', 2)\n      .attr('opacity', 0.9);\n\n    // Draw max price line (solid)\n    g.append('line')\n      .attr('class', 'price-range-line-max')\n      .attr('x1', 0)\n      .attr('x2', width)\n      .attr('y1', yScale(maxPrice))\n      .attr('y2', yScale(maxPrice))\n      .attr('stroke', '#4ecdc4')\n      .attr('stroke-width', 2)\n      .attr('opacity', 0.9);\n      \n    // Add min price label\n    g.append('text')\n      .attr('class', 'price-range-label-min')\n      .attr('x', 5)\n      .attr('y', yScale(minPrice) - 5)\n      .attr('font-size', '10px')\n      .attr('fill', '#ff6b6b')\n      .attr('font-weight', 'bold')\n      .text(`Min: ${minPrice.toFixed(0)}`);\n      \n    // Add max price label\n    g.append('text')\n      .attr('class', 'price-range-label-max')\n      .attr('x', 5)\n      .attr('y', yScale(maxPrice) + 15)\n      .attr('font-size', '10px')\n      .attr('fill', '#4ecdc4')\n      .attr('font-weight', 'bold')\n      .text(`Max: ${maxPrice.toFixed(0)}`);\n\n  }, [svgRef, yScale, width, minPrice, maxPrice, marginLeft, marginTop]);\n\n  return null; // This component doesn't render anything directly\n};\n\nexport default PriceRange;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}