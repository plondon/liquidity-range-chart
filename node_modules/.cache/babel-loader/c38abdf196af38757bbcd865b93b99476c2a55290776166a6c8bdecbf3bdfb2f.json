{"ast":null,"code":"import React,{useEffect}from'react';import*as d3 from'd3';const PriceRange=_ref=>{let{svgRef,yScale,width,minPrice,maxPrice,marginLeft=80,marginTop=20}=_ref;useEffect(()=>{if(!svgRef.current||!yScale||minPrice===null||maxPrice===null){// Remove existing range elements if no valid range\nd3.select(svgRef.current).select('.price-range-group').remove();return;}const svg=d3.select(svgRef.current);// Remove existing range elements\nsvg.select('.price-range-group').remove();// Create group for price range elements\nconst g=svg.append('g').attr('class','price-range-group').attr('transform',\"translate(\".concat(marginLeft,\", \").concat(marginTop,\")\"));// Draw transparent pink background between min and max\ng.append('rect').attr('class','price-range-background').attr('x',0).attr('y',yScale(maxPrice)).attr('width',width).attr('height',yScale(minPrice)-yScale(maxPrice)).attr('fill','#ff69b4').attr('fill-opacity',0.15);// Draw min price line (solid)\ng.append('line').attr('class','price-range-line-min').attr('x1',0).attr('x2',width).attr('y1',yScale(minPrice)).attr('y2',yScale(minPrice)).attr('stroke','#ff6b6b').attr('stroke-width',2).attr('opacity',0.9);// Draw max price line (solid)\ng.append('line').attr('class','price-range-line-max').attr('x1',0).attr('x2',width).attr('y1',yScale(maxPrice)).attr('y2',yScale(maxPrice)).attr('stroke','#4ecdc4').attr('stroke-width',2).attr('opacity',0.9);// Add min price label\ng.append('text').attr('class','price-range-label-min').attr('x',5).attr('y',yScale(minPrice)-5).attr('font-size','10px').attr('fill','#ff6b6b').attr('font-weight','bold').text(\"Min: \".concat(minPrice.toFixed(0)));// Add max price label\ng.append('text').attr('class','price-range-label-max').attr('x',5).attr('y',yScale(maxPrice)+15).attr('font-size','10px').attr('fill','#4ecdc4').attr('font-weight','bold').text(\"Max: \".concat(maxPrice.toFixed(0)));},[svgRef,yScale,width,minPrice,maxPrice,marginLeft,marginTop]);return null;// This component doesn't render anything directly\n};export default PriceRange;","map":{"version":3,"names":["React","useEffect","d3","PriceRange","_ref","svgRef","yScale","width","minPrice","maxPrice","marginLeft","marginTop","current","select","remove","svg","g","append","attr","concat","text","toFixed"],"sources":["/Users/phil.london/Projects/tradingview-chart-mvp/src/PriceRange.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport * as d3 from 'd3';\n\nconst PriceRange = ({ \n  svgRef, \n  yScale, \n  width, \n  minPrice, \n  maxPrice,\n  marginLeft = 80,\n  marginTop = 20 \n}) => {\n  useEffect(() => {\n    if (!svgRef.current || !yScale || minPrice === null || maxPrice === null) {\n      // Remove existing range elements if no valid range\n      d3.select(svgRef.current)\n        .select('.price-range-group')\n        .remove();\n      return;\n    }\n\n    const svg = d3.select(svgRef.current);\n    \n    // Remove existing range elements\n    svg.select('.price-range-group').remove();\n    \n    // Create group for price range elements\n    const g = svg.append('g')\n      .attr('class', 'price-range-group')\n      .attr('transform', `translate(${marginLeft}, ${marginTop})`);\n\n    // Draw transparent pink background between min and max\n    g.append('rect')\n      .attr('class', 'price-range-background')\n      .attr('x', 0)\n      .attr('y', yScale(maxPrice))\n      .attr('width', width)\n      .attr('height', yScale(minPrice) - yScale(maxPrice))\n      .attr('fill', '#ff69b4')\n      .attr('fill-opacity', 0.15);\n\n    // Draw min price line (solid)\n    g.append('line')\n      .attr('class', 'price-range-line-min')\n      .attr('x1', 0)\n      .attr('x2', width)\n      .attr('y1', yScale(minPrice))\n      .attr('y2', yScale(minPrice))\n      .attr('stroke', '#ff6b6b')\n      .attr('stroke-width', 2)\n      .attr('opacity', 0.9);\n\n    // Draw max price line (solid)\n    g.append('line')\n      .attr('class', 'price-range-line-max')\n      .attr('x1', 0)\n      .attr('x2', width)\n      .attr('y1', yScale(maxPrice))\n      .attr('y2', yScale(maxPrice))\n      .attr('stroke', '#4ecdc4')\n      .attr('stroke-width', 2)\n      .attr('opacity', 0.9);\n      \n    // Add min price label\n    g.append('text')\n      .attr('class', 'price-range-label-min')\n      .attr('x', 5)\n      .attr('y', yScale(minPrice) - 5)\n      .attr('font-size', '10px')\n      .attr('fill', '#ff6b6b')\n      .attr('font-weight', 'bold')\n      .text(`Min: ${minPrice.toFixed(0)}`);\n      \n    // Add max price label\n    g.append('text')\n      .attr('class', 'price-range-label-max')\n      .attr('x', 5)\n      .attr('y', yScale(maxPrice) + 15)\n      .attr('font-size', '10px')\n      .attr('fill', '#4ecdc4')\n      .attr('font-weight', 'bold')\n      .text(`Max: ${maxPrice.toFixed(0)}`);\n\n  }, [svgRef, yScale, width, minPrice, maxPrice, marginLeft, marginTop]);\n\n  return null; // This component doesn't render anything directly\n};\n\nexport default PriceRange;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,MAAO,GAAK,CAAAC,EAAE,KAAM,IAAI,CAExB,KAAM,CAAAC,UAAU,CAAGC,IAAA,EAQb,IARc,CAClBC,MAAM,CACNC,MAAM,CACNC,KAAK,CACLC,QAAQ,CACRC,QAAQ,CACRC,UAAU,CAAG,EAAE,CACfC,SAAS,CAAG,EACd,CAAC,CAAAP,IAAA,CACCH,SAAS,CAAC,IAAM,CACd,GAAI,CAACI,MAAM,CAACO,OAAO,EAAI,CAACN,MAAM,EAAIE,QAAQ,GAAK,IAAI,EAAIC,QAAQ,GAAK,IAAI,CAAE,CACxE;AACAP,EAAE,CAACW,MAAM,CAACR,MAAM,CAACO,OAAO,CAAC,CACtBC,MAAM,CAAC,oBAAoB,CAAC,CAC5BC,MAAM,CAAC,CAAC,CACX,OACF,CAEA,KAAM,CAAAC,GAAG,CAAGb,EAAE,CAACW,MAAM,CAACR,MAAM,CAACO,OAAO,CAAC,CAErC;AACAG,GAAG,CAACF,MAAM,CAAC,oBAAoB,CAAC,CAACC,MAAM,CAAC,CAAC,CAEzC;AACA,KAAM,CAAAE,CAAC,CAAGD,GAAG,CAACE,MAAM,CAAC,GAAG,CAAC,CACtBC,IAAI,CAAC,OAAO,CAAE,mBAAmB,CAAC,CAClCA,IAAI,CAAC,WAAW,cAAAC,MAAA,CAAeT,UAAU,OAAAS,MAAA,CAAKR,SAAS,KAAG,CAAC,CAE9D;AACAK,CAAC,CAACC,MAAM,CAAC,MAAM,CAAC,CACbC,IAAI,CAAC,OAAO,CAAE,wBAAwB,CAAC,CACvCA,IAAI,CAAC,GAAG,CAAE,CAAC,CAAC,CACZA,IAAI,CAAC,GAAG,CAAEZ,MAAM,CAACG,QAAQ,CAAC,CAAC,CAC3BS,IAAI,CAAC,OAAO,CAAEX,KAAK,CAAC,CACpBW,IAAI,CAAC,QAAQ,CAAEZ,MAAM,CAACE,QAAQ,CAAC,CAAGF,MAAM,CAACG,QAAQ,CAAC,CAAC,CACnDS,IAAI,CAAC,MAAM,CAAE,SAAS,CAAC,CACvBA,IAAI,CAAC,cAAc,CAAE,IAAI,CAAC,CAE7B;AACAF,CAAC,CAACC,MAAM,CAAC,MAAM,CAAC,CACbC,IAAI,CAAC,OAAO,CAAE,sBAAsB,CAAC,CACrCA,IAAI,CAAC,IAAI,CAAE,CAAC,CAAC,CACbA,IAAI,CAAC,IAAI,CAAEX,KAAK,CAAC,CACjBW,IAAI,CAAC,IAAI,CAAEZ,MAAM,CAACE,QAAQ,CAAC,CAAC,CAC5BU,IAAI,CAAC,IAAI,CAAEZ,MAAM,CAACE,QAAQ,CAAC,CAAC,CAC5BU,IAAI,CAAC,QAAQ,CAAE,SAAS,CAAC,CACzBA,IAAI,CAAC,cAAc,CAAE,CAAC,CAAC,CACvBA,IAAI,CAAC,SAAS,CAAE,GAAG,CAAC,CAEvB;AACAF,CAAC,CAACC,MAAM,CAAC,MAAM,CAAC,CACbC,IAAI,CAAC,OAAO,CAAE,sBAAsB,CAAC,CACrCA,IAAI,CAAC,IAAI,CAAE,CAAC,CAAC,CACbA,IAAI,CAAC,IAAI,CAAEX,KAAK,CAAC,CACjBW,IAAI,CAAC,IAAI,CAAEZ,MAAM,CAACG,QAAQ,CAAC,CAAC,CAC5BS,IAAI,CAAC,IAAI,CAAEZ,MAAM,CAACG,QAAQ,CAAC,CAAC,CAC5BS,IAAI,CAAC,QAAQ,CAAE,SAAS,CAAC,CACzBA,IAAI,CAAC,cAAc,CAAE,CAAC,CAAC,CACvBA,IAAI,CAAC,SAAS,CAAE,GAAG,CAAC,CAEvB;AACAF,CAAC,CAACC,MAAM,CAAC,MAAM,CAAC,CACbC,IAAI,CAAC,OAAO,CAAE,uBAAuB,CAAC,CACtCA,IAAI,CAAC,GAAG,CAAE,CAAC,CAAC,CACZA,IAAI,CAAC,GAAG,CAAEZ,MAAM,CAACE,QAAQ,CAAC,CAAG,CAAC,CAAC,CAC/BU,IAAI,CAAC,WAAW,CAAE,MAAM,CAAC,CACzBA,IAAI,CAAC,MAAM,CAAE,SAAS,CAAC,CACvBA,IAAI,CAAC,aAAa,CAAE,MAAM,CAAC,CAC3BE,IAAI,SAAAD,MAAA,CAASX,QAAQ,CAACa,OAAO,CAAC,CAAC,CAAC,CAAE,CAAC,CAEtC;AACAL,CAAC,CAACC,MAAM,CAAC,MAAM,CAAC,CACbC,IAAI,CAAC,OAAO,CAAE,uBAAuB,CAAC,CACtCA,IAAI,CAAC,GAAG,CAAE,CAAC,CAAC,CACZA,IAAI,CAAC,GAAG,CAAEZ,MAAM,CAACG,QAAQ,CAAC,CAAG,EAAE,CAAC,CAChCS,IAAI,CAAC,WAAW,CAAE,MAAM,CAAC,CACzBA,IAAI,CAAC,MAAM,CAAE,SAAS,CAAC,CACvBA,IAAI,CAAC,aAAa,CAAE,MAAM,CAAC,CAC3BE,IAAI,SAAAD,MAAA,CAASV,QAAQ,CAACY,OAAO,CAAC,CAAC,CAAC,CAAE,CAAC,CAExC,CAAC,CAAE,CAAChB,MAAM,CAAEC,MAAM,CAAEC,KAAK,CAAEC,QAAQ,CAAEC,QAAQ,CAAEC,UAAU,CAAEC,SAAS,CAAC,CAAC,CAEtE,MAAO,KAAI,CAAE;AACf,CAAC,CAED,cAAe,CAAAR,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}